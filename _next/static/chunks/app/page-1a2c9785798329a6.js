(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1890:(e,n,a)=>{Promise.resolve().then(a.bind(a,7322))},7322:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>c});var t=a(5155),o=a(9243),l=a.n(o),r=a(2115);function c(){var e;function n(e,n){return new Date((e+n)*1e3).toLocaleTimeString("en-US",{timeZone:"UTC",hour:"2-digit",minute:"2-digit",hour12:!0})}function a(e){let{unix:a,timezoneOffset:o}=e;return(0,t.jsx)("span",{children:n(a,o)})}function o(e){let{unix:a,timezoneOffset:o}=e;return(0,t.jsx)("span",{children:n(a,o)})}function c(e){let{timezoneOffset:a}=e,[o,l]=(0,r.useState)(()=>n(Math.floor(Date.now()/1e3),a));return(0,r.useEffect)(()=>{let e=setInterval(()=>{l(n(Math.floor(Date.now()/1e3),a))},1e3);return()=>clearInterval(e)},[a]),(0,t.jsx)("span",{children:o})}let s=[{name:"Cairo",country:"EG",lat:30.0444,lon:31.2357},{name:"Alexandria",country:"EG",lat:31.2001,lon:29.9187},{name:"Giza",country:"EG",lat:30.0131,lon:31.2089},{name:"Shubra El-Kheima",country:"EG",lat:30.1238,lon:31.2397},{name:"Port Said",country:"EG",lat:31.2565,lon:32.2841},{name:"Suez",country:"EG",lat:29.9737,lon:32.5263},{name:"Luxor",country:"EG",lat:25.6872,lon:32.6396},{name:"Al-Mansura",country:"EG",lat:31.0409,lon:31.3785},{name:"El-Mahalla El-Kubra",country:"EG",lat:30.9697,lon:31.1642},{name:"Tanta",country:"EG",lat:30.7826,lon:30.9995},{name:"Asyut",country:"EG",lat:27.1783,lon:31.1859},{name:"Ismailia",country:"EG",lat:30.6043,lon:32.2723},{name:"Fayyum",country:"EG",lat:29.3084,lon:30.8441},{name:"Zagazig",country:"EG",lat:30.5877,lon:31.502},{name:"Aswan",country:"EG",lat:24.0889,lon:32.8998},{name:"Damietta",country:"EG",lat:31.4165,lon:31.8133},{name:"Damanhur",country:"EG",lat:31.0411,lon:30.473},{name:"Al-Minya",country:"EG",lat:28.1099,lon:30.7503},{name:"Beni Suef",country:"EG",lat:29.0667,lon:31.0833},{name:"Qena",country:"EG",lat:26.1644,lon:32.7267},{name:"Sohag",country:"EG",lat:26.5569,lon:31.6948},{name:"Hurghada",country:"EG",lat:27.2579,lon:33.8116},{name:"6th of October City",country:"EG",lat:29.9361,lon:30.9269},{name:"Sharm El Sheikh",country:"EG",lat:27.9158,lon:34.33},{name:"Arish",country:"EG",lat:31.1325,lon:33.8031},{name:"El Arish",country:"EG",lat:31.1325,lon:33.8031},{name:"10th of Ramadan City",country:"EG",lat:30.2964,lon:31.7417},{name:"Lagos",country:"NG",lat:6.5244,lon:3.3792},{name:"Kano",country:"NG",lat:12.0022,lon:8.5927},{name:"Ibadan",country:"NG",lat:7.3776,lon:3.947},{name:"Johannesburg",country:"ZA",lat:-26.2041,lon:28.0473},{name:"Cape Town",country:"ZA",lat:-33.9249,lon:18.4241},{name:"Durban",country:"ZA",lat:-29.8587,lon:31.0218},{name:"Nairobi",country:"KE",lat:-1.2921,lon:36.8219},{name:"Mombasa",country:"KE",lat:-4.0435,lon:39.6682},{name:"Casablanca",country:"MA",lat:33.5731,lon:-7.5898},{name:"Rabat",country:"MA",lat:33.9716,lon:-6.8498},{name:"Tunis",country:"TN",lat:36.8065,lon:10.1815},{name:"Algiers",country:"DZ",lat:36.7538,lon:3.0588},{name:"Tokyo",country:"JP",lat:35.6762,lon:139.6503},{name:"Osaka",country:"JP",lat:34.6937,lon:135.5023},{name:"Kyoto",country:"JP",lat:35.0116,lon:135.7681},{name:"Delhi",country:"IN",lat:28.6139,lon:77.209},{name:"Mumbai",country:"IN",lat:19.076,lon:72.8777},{name:"Bangalore",country:"IN",lat:12.9716,lon:77.5946},{name:"Chennai",country:"IN",lat:13.0827,lon:80.2707},{name:"Kolkata",country:"IN",lat:22.5726,lon:88.3639},{name:"Shanghai",country:"CN",lat:31.2304,lon:121.4737},{name:"Beijing",country:"CN",lat:39.9042,lon:116.4074},{name:"Guangzhou",country:"CN",lat:23.1291,lon:113.2644},{name:"Shenzhen",country:"CN",lat:22.5431,lon:114.0579},{name:"Istanbul",country:"TR",lat:41.0082,lon:28.9784},{name:"Ankara",country:"TR",lat:39.9334,lon:32.8597},{name:"Moscow",country:"RU",lat:55.7558,lon:37.6173},{name:"Saint Petersburg",country:"RU",lat:59.9343,lon:30.3351},{name:"Seoul",country:"KR",lat:37.5665,lon:126.978},{name:"Busan",country:"KR",lat:35.1796,lon:129.0756},{name:"Bangkok",country:"TH",lat:13.7563,lon:100.5018},{name:"Singapore",country:"SG",lat:1.3521,lon:103.8198},{name:"Kuala Lumpur",country:"MY",lat:3.139,lon:101.6869},{name:"Jakarta",country:"ID",lat:-6.2088,lon:106.8456},{name:"Manila",country:"PH",lat:14.5995,lon:120.9842},{name:"Hanoi",country:"VN",lat:21.0278,lon:105.8342},{name:"Ho Chi Minh City",country:"VN",lat:10.8231,lon:106.6297},{name:"London",country:"GB",lat:51.5074,lon:-.1278},{name:"Birmingham",country:"GB",lat:52.4862,lon:-1.8904},{name:"Manchester",country:"GB",lat:53.4808,lon:-2.2426},{name:"Paris",country:"FR",lat:48.8566,lon:2.3522},{name:"Marseille",country:"FR",lat:43.2965,lon:5.3698},{name:"Lyon",country:"FR",lat:45.764,lon:4.8357},{name:"Berlin",country:"DE",lat:52.52,lon:13.405},{name:"Munich",country:"DE",lat:48.1351,lon:11.582},{name:"Hamburg",country:"DE",lat:53.5511,lon:9.9937},{name:"Rome",country:"IT",lat:41.9028,lon:12.4964},{name:"Milan",country:"IT",lat:45.4642,lon:9.19},{name:"Naples",country:"IT",lat:40.8518,lon:14.2681},{name:"Madrid",country:"ES",lat:40.4168,lon:-3.7038},{name:"Barcelona",country:"ES",lat:41.3851,lon:2.1734},{name:"Amsterdam",country:"NL",lat:52.3676,lon:4.9041},{name:"Brussels",country:"BE",lat:50.8503,lon:4.3517},{name:"Vienna",country:"AT",lat:48.2082,lon:16.3738},{name:"Prague",country:"CZ",lat:50.0755,lon:14.4378},{name:"Warsaw",country:"PL",lat:52.2297,lon:21.0122},{name:"Budapest",country:"HU",lat:47.4979,lon:19.0402},{name:"Athens",country:"GR",lat:37.9838,lon:23.7275},{name:"Lisbon",country:"PT",lat:38.7223,lon:-9.1393},{name:"Stockholm",country:"SE",lat:59.3293,lon:18.0686},{name:"Oslo",country:"NO",lat:59.9139,lon:10.7522},{name:"Helsinki",country:"FI",lat:60.1699,lon:24.9384},{name:"Copenhagen",country:"DK",lat:55.6761,lon:12.5683},{name:"New York",country:"US",lat:40.7128,lon:-74.006},{name:"Los Angeles",country:"US",lat:34.0522,lon:-118.2437},{name:"Chicago",country:"US",lat:41.8781,lon:-87.6298},{name:"Houston",country:"US",lat:29.7604,lon:-95.3698},{name:"Phoenix",country:"US",lat:33.4484,lon:-112.074},{name:"Philadelphia",country:"US",lat:39.9526,lon:-75.1652},{name:"San Antonio",country:"US",lat:29.4241,lon:-98.4936},{name:"San Diego",country:"US",lat:32.7157,lon:-117.1611},{name:"Dallas",country:"US",lat:32.7767,lon:-96.797},{name:"San Jose",country:"US",lat:37.3382,lon:-121.8863},{name:"Toronto",country:"CA",lat:43.6532,lon:-79.3832},{name:"Montreal",country:"CA",lat:45.5017,lon:-73.5673},{name:"Vancouver",country:"CA",lat:49.2827,lon:-123.1207},{name:"Mexico City",country:"MX",lat:19.4326,lon:-99.1332},{name:"Guadalajara",country:"MX",lat:20.6597,lon:-103.3496},{name:"Monterrey",country:"MX",lat:25.6866,lon:-100.3161},{name:"Havana",country:"CU",lat:23.1136,lon:-82.3666},{name:"S\xe3o Paulo",country:"BR",lat:-23.5505,lon:-46.6333},{name:"Rio de Janeiro",country:"BR",lat:-22.9068,lon:-43.1729},{name:"Bras\xedlia",country:"BR",lat:-15.7975,lon:-47.8919},{name:"Buenos Aires",country:"AR",lat:-34.6037,lon:-58.3816},{name:"C\xf3rdoba",country:"AR",lat:-31.4201,lon:-64.1888},{name:"Lima",country:"PE",lat:-12.0464,lon:-77.0428},{name:"Bogot\xe1",country:"CO",lat:4.711,lon:-74.0721},{name:"Medell\xedn",country:"CO",lat:6.2442,lon:-75.5812},{name:"Santiago",country:"CL",lat:-33.4489,lon:-70.6693},{name:"Caracas",country:"VE",lat:10.4806,lon:-66.9036},{name:"Sydney",country:"AU",lat:-33.8688,lon:151.2093},{name:"Melbourne",country:"AU",lat:-37.8136,lon:144.9631},{name:"Brisbane",country:"AU",lat:-27.4698,lon:153.0251},{name:"Perth",country:"AU",lat:-31.9505,lon:115.8605},{name:"Adelaide",country:"AU",lat:-34.9285,lon:138.6007},{name:"Auckland",country:"NZ",lat:-36.8485,lon:174.7633},{name:"Wellington",country:"NZ",lat:-41.2865,lon:174.7762},{name:"Christchurch",country:"NZ",lat:-43.5321,lon:172.6362}],[i,u]=(0,r.useState)([]),[m,h]=(0,r.useState)(!0),[y,d]=(0,r.useState)(null),[p,g]=(0,r.useState)(""),[_,S]=(0,r.useState)("EG"),[x,f]=(0,r.useState)([]),[w,j]=(0,r.useState)(""),E=(0,r.useMemo)(()=>{let e=new Map;s.forEach(n=>{e.has(n.country)||e.set(n.country,{code:n.country,name:new Intl.DisplayNames(["en"],{type:"region"}).of(n.country)||n.country})});let n=Array.from(e.values()).sort((e,n)=>e.name.localeCompare(n.name));if(w.trim()){let e=w.toLowerCase().trim();n=n.filter(n=>n.name.toLowerCase().includes(e)||n.code.toLowerCase().includes(e))}return n},[w]);(0,r.useEffect)(()=>{async function e(e){try{h(!0),d(null);let n=s.filter(n=>n.country===e);f(n);let a=await Promise.all(n.map(async e=>{try{let n=await fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.lat,"&lon=").concat(e.lon,"&appid=670bbd8c254a4185251fc8f5eae1302d&units=metric"));if(!n.ok)return console.error("Failed to fetch weather for ".concat(e.name,":"),n.statusText),null;let a=await n.json();return{name:e.name,country:e.country,lat:e.lat,lon:e.lon,weather:a}}catch(n){return console.error("Error fetching weather for ".concat(e.name,":"),n),null}})),t=a.filter(e=>null!==e);u(t),0===t.length?d("No weather data available for the selected country."):t.length<a.length&&d("Failed to load weather for ".concat(a.length-t.length," cities."))}catch(e){console.error("Error fetching cities by country:",e),d("Failed to load city data. Please try again later.")}finally{h(!1)}}_&&"all"!==_?e(_):(u([]),f([]))},[_]);let C=(0,r.useMemo)(()=>{if(!p.trim())return i;let e=p.toLowerCase().trim();return i.filter(n=>{let a,t=(a=n.country,new Intl.DisplayNames(["en"],{type:"region"}).of(a)||a).toLowerCase();return n.name.toLowerCase().includes(e)||n.country.toLowerCase().includes(e)||t.includes(e)})},[i,p]),[N,G]=(0,r.useState)("light"),[b,v]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{v(!0);try{let e=localStorage.getItem("theme");if("light"===e||"dark"===e)return void G(e);let n=window.matchMedia("(prefers-color-scheme: dark)").matches;G(n?"dark":"light")}catch(e){console.error("Failed to load theme preference:",e)}},[]),(0,r.useEffect)(()=>{"undefined"!=typeof document&&(document.documentElement.setAttribute("data-theme",N),window.localStorage.setItem("theme",N))},[N]),m)?(0,t.jsx)("div",{className:l().page,children:(0,t.jsx)("div",{className:l().loading,children:"Loading weather data..."})}):(0,t.jsxs)("div",{className:l().page,children:[y&&(0,t.jsx)("div",{className:l().error,children:y}),(0,t.jsxs)("main",{className:l().main,children:[(0,t.jsxs)("div",{className:l().search,children:[(0,t.jsxs)("div",{className:l().searchContainer,children:[(0,t.jsxs)("div",{className:l().searchGroup,children:[(0,t.jsx)("label",{htmlFor:"countrySearch",className:l().searchLabel,children:"Search Country"}),(0,t.jsxs)("div",{className:l().countrySearchContainer,children:[(0,t.jsx)("span",{className:l().searchIcon,children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,t.jsx)("circle",{cx:"12",cy:"10",r:"3"})]})}),(0,t.jsx)("input",{id:"countrySearch",type:"text",value:w,onChange:e=>j(e.target.value),placeholder:"Search country...",className:l().countrySearchInput,"aria-label":"Search country"}),(0,t.jsx)("div",{className:l().countrySelectContainer,children:(0,t.jsx)("select",{value:_,onChange:e=>{S(e.target.value),j("")},className:l().countrySelect,"aria-label":"Select country",children:0===E.length?(0,t.jsx)("option",{value:"",disabled:!0,children:"No countries found"}):E.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.name," (",e.code,")"]},e.code))})})]})]}),(0,t.jsxs)("div",{className:l().searchGroup,children:[(0,t.jsx)("label",{htmlFor:"citySearch",className:l().searchLabel,children:"Search City"}),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("span",{className:l().searchIcon,children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),(0,t.jsx)("input",{id:"citySearch",type:"text",value:p,onChange:e=>g(e.target.value),placeholder:_?"Search in ".concat((null==(e=E.find(e=>e.code===_))?void 0:e.name)||"selected country","..."):"Select a country first","aria-label":"Search cities",className:l().searchInput,disabled:!_||"all"===_})]})]})]}),(0,t.jsx)("button",{type:"button",className:l().themeToggle,onClick:()=>G(e=>"light"===e?"dark":"light"),"aria-pressed":"dark"===N,"aria-label":"Toggle theme",title:"Switch to ".concat("light"===N?"dark":"light"," mode"),children:b?"light"===N?"Dark mode":"Light mode":"Toggle theme"})]}),(0,t.jsx)("div",{className:l().container,children:C.map((e,n)=>(0,t.jsxs)("div",{className:l().city,children:[(0,t.jsxs)("h1",{children:[e.name,", ",new Intl.DisplayNames(["en"],{type:"region"}).of(e.country)]}),e.weather?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:(0,t.jsx)(c,{timezoneOffset:e.weather.timezone})}),(0,t.jsx)("h2",{children:e.weather.weather[0].main}),(0,t.jsx)("h3",{children:e.weather.weather[0].description}),(0,t.jsxs)("div",{className:l().tempcontainer,children:[(0,t.jsxs)("p",{children:["Temperature: ",e.weather.main.temp," \xb0C"]}),(0,t.jsxs)("p",{children:["Feels like: ",e.weather.main.feels_like," \xb0C"]}),(0,t.jsxs)("p",{children:["Max temp: ",e.weather.main.temp_max," \xb0C"]}),(0,t.jsxs)("p",{children:["Min temp: ",e.weather.main.temp_min," \xb0C"]})]}),(0,t.jsxs)("div",{className:l().details,children:[(0,t.jsxs)("p",{children:["Sunrise: ",(0,t.jsx)(a,{unix:e.weather.sys.sunrise,timezoneOffset:e.weather.timezone})]}),(0,t.jsxs)("p",{children:["Sunset: ",(0,t.jsx)(o,{unix:e.weather.sys.sunset,timezoneOffset:e.weather.timezone})]}),(0,t.jsxs)("p",{children:["Humidity: ",e.weather.main.humidity,"%"]}),(0,t.jsxs)("p",{children:["Wind: ",e.weather.wind.speed," m/s (",(3.6*e.weather.wind.speed).toFixed(1)," km/h),"," ",["North","NorthEast","East","SouthEast","South","SouthWest","West","NorthWest"][Math.round(e.weather.wind.deg/45)%8]]}),(0,t.jsxs)("p",{children:["Visibility: ",(e.weather.visibility/1e3).toFixed(1)," km"]}),(0,t.jsxs)("p",{children:["Pressure: ",e.weather.main.pressure," hPa"]})]})]}):(0,t.jsx)("p",{children:"Loading weather..."})]},n))})]})]})}},9243:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",ctas:"page_ctas__rfsth",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",footer:"page_footer__F3MD0",logo:"page_logo__ikIZE",container:"page_container__jZF7q",city:"page_city__fBhFF",tempcontainer:"page_tempcontainer__JEhJ_",details:"page_details__TnHHS",search:"page_search__ZIWIO",searchContainer:"page_searchContainer__pJPVb",searchGroup:"page_searchGroup__gBJvT",searchLabel:"page_searchLabel__VhmPn",searchInput:"page_searchInput__bMdhk",countrySearchInput:"page_countrySearchInput__F_0_1",searchIcon:"page_searchIcon__sqHZN",countrySearchContainer:"page_countrySearchContainer__y7Ua6",countrySelectContainer:"page_countrySelectContainer__lAQyg",countrySelect:"page_countrySelect__MqUs1",themeToggle:"page_themeToggle__1G9tR",loading:"page_loading__4WMny",error:"page_error__JBrsB"}}},e=>{e.O(0,[572,441,255,358],()=>e(e.s=1890)),_N_E=e.O()}]);