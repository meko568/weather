(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1890:(e,a,t)=>{Promise.resolve().then(t.bind(t,7322))},7322:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var n=t(5155),r=t(9243),l=t.n(r),i=t(2115);function s(){function e(e,a){return new Date((e+a)*1e3).toLocaleTimeString("en-US",{timeZone:"UTC",hour:"2-digit",minute:"2-digit",hour12:!0})}function a(a){let{unix:t,timezoneOffset:r}=a;return(0,n.jsx)("span",{children:e(t,r)})}function t(a){let{unix:t,timezoneOffset:r}=a;return(0,n.jsx)("span",{children:e(t,r)})}function r(a){let{timezoneOffset:t}=a,[r,l]=(0,i.useState)(()=>e(Math.floor(Date.now()/1e3),t));return(0,i.useEffect)(()=>{let a=setInterval(()=>{l(e(Math.floor(Date.now()/1e3),t))},1e3);return()=>clearInterval(a)},[t]),(0,n.jsx)("span",{children:r})}let s=[{name:"Cairo",lat:30.0444,lon:31.2357},{name:"Giza",lat:30.0131,lon:31.2089},{name:"Alexandria",lat:31.2001,lon:29.9187},{name:"Port Said",lat:31.2653,lon:32.3019},{name:"Suez",lat:29.9668,lon:32.5498},{name:"Ismailia",lat:30.6043,lon:32.2723},{name:"Luxor",lat:25.6872,lon:32.6396},{name:"Aswan",lat:24.0889,lon:32.8998},{name:"Asyut",lat:27.18,lon:31.1837},{name:"Beni Suef",lat:29.0661,lon:31.0994},{name:"Faiyum",lat:29.3084,lon:30.8418},{name:"Minya",lat:28.1099,lon:30.7503},{name:"Sohag",lat:26.556,lon:31.6948},{name:"Qena",lat:26.1551,lon:32.716},{name:"Hurghada",lat:27.2579,lon:33.8116},{name:"Damanhur",lat:31.0341,lon:30.4682},{name:"Zagazig",lat:30.5877,lon:31.502},{name:"Mansoura",lat:31.0409,lon:31.3785},{name:"Tanta",lat:30.7885,lon:31.0004},{name:"Shibin El Kom",lat:30.5526,lon:30.9963},{name:"Kafr El Sheikh",lat:31.1107,lon:30.939},{name:"Marsa Matruh",lat:31.3543,lon:27.2373},{name:"Kharga",lat:25.451,lon:30.5466},{name:"Arish",lat:31.1316,lon:33.7984},{name:"El Tor",lat:28.241,lon:33.6222},{name:"Damietta",lat:31.4165,lon:31.8133},{name:"Banha",lat:30.4591,lon:31.1786}],[o,h]=(0,i.useState)(s.map(e=>({...e,weather:null}))),[c,m]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null);(0,i.useEffect)(()=>{async function e(e,a){try{let t=await fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(a,"&appid=670bbd8c254a4185251fc8f5eae1302d&units=metric"));if(!t.ok)throw Error("Failed to fetch weather data: ".concat(t.statusText));return await t.json()}catch(t){return console.error("Error fetching weather for lat=".concat(e,", lon=").concat(a,":"),t),null}}!async function(){m(!0),u(null);try{let a=await Promise.all(s.map(a=>e(a.lat,a.lon))),t=s.map((e,t)=>({...e,weather:a[t]}));h(t);let n=a.filter(e=>null===e).length;n>0&&u("Failed to load weather for ".concat(n," cities. Check console for details."))}catch(e){console.error("Error in fetchAllWeather:",e),u("Failed to load weather data. Please try again later.")}finally{m(!1)}}()},[]);let[p,g]=(0,i.useState)(""),[_,w]=(0,i.useState)("light"),[f,x]=(0,i.useState)(!1);(0,i.useEffect)(()=>{x(!0);try{let e=window.localStorage.getItem("theme");if("light"===e||"dark"===e)return void w(e);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;w(a?"dark":"light")}catch(e){}},[]),(0,i.useEffect)(()=>{"undefined"!=typeof document&&(document.documentElement.setAttribute("data-theme",_),window.localStorage.setItem("theme",_))},[_]);let j=o.filter(e=>e.name.toLowerCase().includes(p.toLowerCase()));return c?(0,n.jsx)("div",{className:l().page,children:(0,n.jsx)("div",{className:l().loading,children:"Loading weather data..."})}):(0,n.jsxs)("div",{className:l().page,children:[d&&(0,n.jsx)("div",{className:l().error,children:d}),(0,n.jsxs)("main",{className:l().main,children:[(0,n.jsxs)("div",{className:l().search,children:[(0,n.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Search cities...","aria-label":"Search cities",className:l().searchInput}),(0,n.jsx)("button",{type:"button",className:l().themeToggle,onClick:()=>w(e=>"light"===e?"dark":"light"),"aria-pressed":"dark"===_,"aria-label":"Toggle theme",title:"Switch to ".concat("light"===_?"dark":"light"," mode"),children:f?"light"===_?"Dark mode":"Light mode":"Toggle theme"})]}),(0,n.jsx)("div",{className:l().container,children:j.map((e,i)=>(0,n.jsxs)("div",{className:l().city,children:[(0,n.jsx)("h1",{children:e.name}),e.weather?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h1",{children:["Local Time: ",(0,n.jsx)(r,{timezoneOffset:e.weather.timezone})]}),(0,n.jsx)("h2",{children:e.weather.weather[0].main}),(0,n.jsx)("h3",{children:e.weather.weather[0].description}),(0,n.jsxs)("div",{className:l().tempcontainer,children:[(0,n.jsxs)("p",{children:["Temperature: ",e.weather.main.temp," \xb0C"]}),(0,n.jsxs)("p",{children:["Feels like: ",e.weather.main.feels_like," \xb0C"]}),(0,n.jsxs)("p",{children:["Max temp: ",e.weather.main.temp_max," \xb0C"]}),(0,n.jsxs)("p",{children:["Min temp: ",e.weather.main.temp_min," \xb0C"]})]}),(0,n.jsxs)("div",{className:l().details,children:[(0,n.jsxs)("p",{children:["Sunrise: ",(0,n.jsx)(a,{unix:e.weather.sys.sunrise,timezoneOffset:e.weather.timezone})]}),(0,n.jsxs)("p",{children:["Sunset: ",(0,n.jsx)(t,{unix:e.weather.sys.sunset,timezoneOffset:e.weather.timezone})]}),(0,n.jsxs)("p",{children:["Humidity: ",e.weather.main.humidity,"%"]}),(0,n.jsxs)("p",{children:["Wind: ",e.weather.wind.speed," m/s (",(3.6*e.weather.wind.speed).toFixed(1)," km/h),"," ",["North","NorthEast","East","SouthEast","South","SouthWest","West","NorthWest"][Math.round(e.weather.wind.deg/45)%8]]}),(0,n.jsxs)("p",{children:["Visibility: ",(e.weather.visibility/1e3).toFixed(1)," km"]}),(0,n.jsxs)("p",{children:["Pressure: ",e.weather.main.pressure," hPa"]})]})]}):(0,n.jsx)("p",{children:"Loading weather..."})]},i))})]})]})}},9243:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",ctas:"page_ctas__rfsth",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",footer:"page_footer__F3MD0",logo:"page_logo__ikIZE",container:"page_container__jZF7q",city:"page_city__fBhFF",tempcontainer:"page_tempcontainer__JEhJ_",details:"page_details__TnHHS",search:"page_search__ZIWIO",searchInput:"page_searchInput__bMdhk",themeToggle:"page_themeToggle__1G9tR",loading:"page_loading__4WMny",error:"page_error__JBrsB"}}},e=>{e.O(0,[572,441,255,358],()=>e(e.s=1890)),_N_E=e.O()}]);