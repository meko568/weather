(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1890:(e,a,t)=>{Promise.resolve().then(t.bind(t,7322))},7322:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var n=t(5155),l=t(9243),i=t.n(l),s=t(2115);function r(){function e(e){return new Date(1e3*e).toLocaleTimeString()}let a=[{name:"Cairo",lat:30.0444,lon:31.2357},{name:"Giza",lat:30.0131,lon:31.2089},{name:"Alexandria",lat:31.2001,lon:29.9187},{name:"Port Said",lat:31.2653,lon:32.3019},{name:"Suez",lat:29.9668,lon:32.5498},{name:"Ismailia",lat:30.6043,lon:32.2723},{name:"Luxor",lat:25.6872,lon:32.6396},{name:"Aswan",lat:24.0889,lon:32.8998},{name:"Asyut",lat:27.18,lon:31.1837},{name:"Beni Suef",lat:29.0661,lon:31.0994},{name:"Faiyum",lat:29.3084,lon:30.8418},{name:"Minya",lat:28.1099,lon:30.7503},{name:"Sohag",lat:26.556,lon:31.6948},{name:"Qena",lat:26.1551,lon:32.716},{name:"Hurghada",lat:27.2579,lon:33.8116},{name:"Damanhur",lat:31.0341,lon:30.4682},{name:"Zagazig",lat:30.5877,lon:31.502},{name:"Mansoura",lat:31.0409,lon:31.3785},{name:"Tanta",lat:30.7885,lon:31.0004},{name:"Shibin El Kom",lat:30.5526,lon:30.9963},{name:"Kafr El Sheikh",lat:31.1107,lon:30.939},{name:"Marsa Matruh",lat:31.3543,lon:27.2373},{name:"Kharga",lat:25.451,lon:30.5466},{name:"Arish",lat:31.1316,lon:33.7984},{name:"El Tor",lat:28.241,lon:33.6222},{name:"Damietta",lat:31.4165,lon:31.8133},{name:"Banha",lat:30.4591,lon:31.1786}],[t,l]=(0,s.useState)(a.map(e=>({...e,weather:null})));(0,s.useEffect)(()=>{async function e(e,a){let t=await fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(a,"&appid=670bbd8c254a4185251fc8f5eae1302d&units=metric"));return await t.json()}Promise.all(a.map(a=>e(a.lat,a.lon))).then(e=>{l(a.map((a,t)=>({...a,weather:e[t]})))})},[]),console.log(t);let[r,h]=(0,s.useState)(""),[o,m]=(0,s.useState)("light"),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d(!0);try{let e=window.localStorage.getItem("theme");if("light"===e||"dark"===e)return void m(e);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;m(a?"dark":"light")}catch(e){}},[]),(0,s.useEffect)(()=>{"undefined"!=typeof document&&(document.documentElement.setAttribute("data-theme",o),window.localStorage.setItem("theme",o))},[o]);let p=t.filter(e=>e.name.toLowerCase().includes(r.toLowerCase()));return(0,n.jsx)("div",{className:i().page,children:(0,n.jsxs)("main",{className:i().main,children:[(0,n.jsxs)("div",{className:i().search,children:[(0,n.jsx)("input",{type:"text",value:r,onChange:e=>h(e.target.value),placeholder:"Search cities...","aria-label":"Search cities",className:i().searchInput}),(0,n.jsx)("button",{type:"button",className:i().themeToggle,onClick:()=>m(e=>"light"===e?"dark":"light"),"aria-pressed":"dark"===o,"aria-label":"Toggle theme",title:"Switch to ".concat("light"===o?"dark":"light"," mode"),children:c?"light"===o?"Dark mode":"Light mode":"Toggle theme"})]}),(0,n.jsx)("div",{className:i().container,children:p.map((a,t)=>(0,n.jsxs)("div",{className:i().city,children:[(0,n.jsx)("h1",{children:a.name}),a.weather?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{children:new Date((a.weather.sys.sunrise+a.weather.timezone)*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}),(0,n.jsx)("h2",{children:a.weather.weather[0].main}),(0,n.jsx)("h3",{children:a.weather.weather[0].description}),(0,n.jsxs)("div",{className:i().tempcontainer,children:[(0,n.jsxs)("p",{children:["Temperature: ",a.weather.main.temp," \xb0C"]}),(0,n.jsxs)("p",{children:["Feels like: ",a.weather.main.feels_like," \xb0C"]}),(0,n.jsxs)("p",{children:["Max temp: ",a.weather.main.temp_max," \xb0C"]}),(0,n.jsxs)("p",{children:["Min temp: ",a.weather.main.temp_min," \xb0C"]})]}),(0,n.jsxs)("div",{className:i().details,children:[(0,n.jsxs)("p",{children:["Sunrise: ",e(a.weather.sys.sunrise)]}),(0,n.jsxs)("p",{children:["Sunset: ",e(a.weather.sys.sunset)]}),(0,n.jsxs)("p",{children:["Humidity: ",a.weather.main.humidity,"%"]}),(0,n.jsxs)("p",{children:["Wind: ",a.weather.wind.speed," m/s (",(3.6*a.weather.wind.speed).toFixed(1)," km/h),"," ",["North","NorthEast","East","SouthEast","South","SouthWest","West","NorthWest"][Math.round(a.weather.wind.deg/45)%8]]}),(0,n.jsxs)("p",{children:["Visibility: ",(a.weather.visibility/1e3).toFixed(1)," km"]}),(0,n.jsxs)("p",{children:["Pressure: ",a.weather.main.pressure," hPa"]})]})]}):(0,n.jsx)("p",{children:"Loading weather..."})]},t))})]})})}},9243:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",ctas:"page_ctas__rfsth",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",footer:"page_footer__F3MD0",logo:"page_logo__ikIZE",container:"page_container__jZF7q",city:"page_city__fBhFF",tempcontainer:"page_tempcontainer__JEhJ_",details:"page_details__TnHHS",search:"page_search__ZIWIO",searchInput:"page_searchInput__bMdhk",themeToggle:"page_themeToggle__1G9tR"}}},e=>{e.O(0,[572,441,255,358],()=>e(e.s=1890)),_N_E=e.O()}]);